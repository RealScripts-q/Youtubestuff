<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RealScripts Gamers - Home</title>
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="home.css">
</head>
<body>
  <!-- Background blobs -->
  <div class="blob"></div>
  <div class="blob blob-2"></div>

  <div class="wrap">
    <!-- Navbar -->
    <nav class="nav">
      <div class="nav-inner">
        <a href="home.html" class="brand">
          <div class="dot"></div> RealScripts Gamers
        </a>
        <div class="spacer"></div>
        <div class="menu">
          <a href="home.html" class="active">Home</a>
          <a href="about.html">About</a>
          <a href="services.html">Services</a>
          <a href="contact.html">Contact</a>
          <a href="social.html">Social</a>
        </div>
      </div>
    </nav>

    <!-- Profile -->
    <div class="profile-wrap">
      <div class="profile-circle">
        <img src="channels4_profile.jpg" alt="Profile">
      </div>
      <span class="profile-name">RealScripts_q</span>
    </div>

    <!-- Intro Text with live stats -->
    <section class="intro-text">
      <h1>
        Hi, I am a small YouTuber with 
        <span id="subs" class="highlight">loading subs...</span><br>
        and accomplished over 
        <span id="views" class="highlight">loading views...</span> currently,<br>
        with over 
        <span id="videos" class="highlight">loading videos...</span>.<br><br>
        Channel created on <span id="created" class="highlight">loading date...</span>.
      </h1>
    </section>
  </div>

  <script>
    const API_KEY = "AIzaSyD1FmPQDwEkZGwgMdy-9ImKuLhl7hqtod8"; // your key
    const CHANNEL_ID = "UCKCKRcJVVdLSaZoKQU-CuVA"; // your channel ID

    let subsGoal = 0;
    let viewsGoal = 0;
    const multiplier = 10;

    function formatNumber(num) {
      return parseInt(num, 10).toLocaleString();
    }

    function updateGoals(subs, views) {
      subs = parseInt(subs, 10);
      views = parseInt(views, 10);

      // Initialize goals
      if (subsGoal === 0) subsGoal = subs * multiplier;
      if (viewsGoal === 0) viewsGoal = views * multiplier;

      // Multiply goals by 10 if reached
      if (subs >= subsGoal) subsGoal *= multiplier;
      if (views >= viewsGoal) viewsGoal *= multiplier;

      // Update spans directly
      document.getElementById("subs").textContent = `${formatNumber(subs)} / ${formatNumber(subsGoal)} subs`;
      document.getElementById("views").textContent = `${formatNumber(views)} / ${formatNumber(viewsGoal)} views`;
    }

    async function loadYouTubeStats() {
      try {
        const res = await fetch(
          `https://www.googleapis.com/youtube/v3/channels?part=statistics,snippet&id=${CHANNEL_ID}&key=${API_KEY}`
        );
        const data = await res.json();
        const stats = data.items[0].statistics;
        const snippet = data.items[0].snippet;

        const createdDate = new Date(snippet.publishedAt);
        const formattedDate = createdDate.toLocaleDateString("en-US", {
          year: "numeric",
          month: "long",
          day: "numeric"
        });

        document.getElementById("videos").textContent = `${stats.videoCount} videos uploaded`;
        document.getElementById("created").textContent = formattedDate;

        updateGoals(stats.subscriberCount, stats.viewCount);
      } catch (err) {
        console.error("Error fetching YouTube stats:", err);
      }
    }

    loadYouTubeStats();
    setInterval(loadYouTubeStats, 60000); // refresh every 60 seconds
  </script>
</body>
</html>
